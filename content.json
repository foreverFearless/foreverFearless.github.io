{"meta":{"title":"ruby","subtitle":"","description":"","author":"ruby","url":"http://yoursite.com","root":"/"},"pages":[{"title":"tags","date":"2019-12-06T02:17:23.000Z","updated":"2019-12-06T02:17:23.113Z","comments":true,"path":"tags/index-1.html","permalink":"http://yoursite.com/tags/index-1.html","excerpt":"","text":""},{"title":"","date":"2019-12-06T02:03:00.846Z","updated":"2019-12-06T02:03:00.846Z","comments":true,"path":"categories/web.html","permalink":"http://yoursite.com/categories/web.html","excerpt":"","text":"1title: vue入门（中）2date: 2019-12-06 09:55:493categories:4- web前端 the on a page"},{"title":"小试牛刀","date":"2019-12-05T06:28:24.000Z","updated":"2019-12-06T01:54:39.049Z","comments":true,"path":"小试牛刀/index.html","permalink":"http://yoursite.com/%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-12-06T01:55:49.000Z","updated":"2019-12-06T02:01:46.889Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":"the one"},{"title":"tags","date":"2019-12-06T02:13:12.000Z","updated":"2019-12-06T02:13:49.300Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"前端imageBuffer设置图片src(后端返回二进制流图片)","slug":"前端imageBuffer设置图片src(后端返回二进制流图片)","date":"2020-01-06T07:18:29.487Z","updated":"2020-01-06T07:50:07.006Z","comments":true,"path":"2020/01/06/前端imageBuffer设置图片src(后端返回二进制流图片)/","link":"","permalink":"http://yoursite.com/2020/01/06/%E5%89%8D%E7%AB%AFimageBuffer%E8%AE%BE%E7%BD%AE%E5%9B%BE%E7%89%87src(%E5%90%8E%E7%AB%AF%E8%BF%94%E5%9B%9E%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B5%81%E5%9B%BE%E7%89%87)/","excerpt":"","text":"1reqData()&#123;2 onKaptcha().then(res&#x3D;&gt;&#123;3 this.imageKey &#x3D; res.dataMap.imageKey4 const url &#x3D; res.dataMap.imageUrl5 const _self &#x3D; this6 axios.get(url,&#123; responseType: &quot;arraybuffer&quot;&#125;).then(res&#x3D;&gt;&#123;7 let path &#x3D; &#39;data:image&#x2F;png;base64,&#39; + btoa(new Uint8Array(res.data).reduce((data, byte) &#x3D;&gt; data + String.fromCharCode(byte), &#39;&#39;))8 _self.imageUrl &#x3D; path 9 &#125;)10 &#125;)11 &#125;, 利用axios发送get请求 根据流生成图片","categories":[],"tags":[]},{"title":"省市区三级联动+小程序","slug":"省市区三级联动+小程序","date":"2019-12-05T07:56:11.006Z","updated":"2019-12-05T07:57:38.691Z","comments":true,"path":"2019/12/05/省市区三级联动+小程序/","link":"","permalink":"http://yoursite.com/2019/12/05/%E7%9C%81%E5%B8%82%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8+%E5%B0%8F%E7%A8%8B%E5%BA%8F/","excerpt":"","text":"1&lt;template&gt;2 &lt;div&gt;3 &lt;picker4 @change&#x3D;&quot;changeMultiPicker3&quot;5 @columnchange&#x3D;&quot;handlechange&quot;6 mode&#x3D;&quot;multiSelector&quot;7 v-model&#x3D;&quot;multiIndex3&quot;8 :range&#x3D;&quot;multiArray3&quot;9 &gt;10 &lt;div&gt;11 &lt;input class&#x3D;&quot;provinces&quot; type&#x3D;&quot;text&quot; v-model&#x3D;&quot;address&quot; placeholder&#x3D;&quot;请选择国家&#x2F;省市区&quot; disabled &#x2F;&gt;12 &lt;&#x2F;div&gt;13 &lt;&#x2F;picker&gt;14 &lt;&#x2F;div&gt;15&lt;&#x2F;template&gt;16&lt;script&gt;17import request from &#39;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;request.js&#39;18export default &#123;19 data () &#123;20 return &#123;21 multiArray3: [[], [], []],22 multiIndex3: [0, 0, 0],23 areaCode: &#39;&#39;,24 sheng: &#39;&#39;,25 shi: &#39;&#39;,26 qu: &#39;&#39;,27 address: &#39;&#39;,28 gather:&#123;&#125;29 &#125;30 &#125;,31 methods: &#123;32 changeMultiPicker3 (e) &#123;33 this.multiIndex3 &#x3D; e.mp.detail.value34 this.address &#x3D; this.sheng[this.multiIndex3[0]].cdName +&#39;-&#39;+ this.shi[this.multiIndex3[1]].cdName +&#39;-&#39;+ this.qu[this.multiIndex3[2]].cdName35 this.cdId &#x3D; this.qu[this.multiIndex3[2]].cdId36 this.$emit(&#39;getAreaCode&#39;, this.cdId)37 this.gather&#x3D;&#123;38 provincesIndex :this.sheng[this.multiIndex3[0]].cdId,39 cityIndex : this.shi[this.multiIndex3[1]].cdId,40 areaIndex : this.qu[this.multiIndex3[2]].cdId,41 isSelect : true42 &#125;43 this.$emit(&#39;pass-data&#39;,this.gather)44 &#125;,45 async handlechange (e) &#123;46 var data &#x3D; &#123;47 multiArray: this.multiArray3,48 multiIndex: this.multiIndex3,49 sheng: this.sheng,50 shi: [],51 qu: []52 &#125;53 data.multiIndex[e.mp.detail.column] &#x3D; e.mp.detail.value54 55 switch (e.mp.detail.column) &#123;56 case 0: 57 &#x2F;&#x2F; 获取第二列市的数据58 let sCode &#x3D; this.sheng[e.mp.detail.value].cdId 59 60 let res &#x3D; await request(&#39;&#x2F;country&#x2F;list&#39;,&#123;pid:sCode&#125;,&#39;POST&#39;)61 let arr &#x3D; []62 let cityName &#x3D; res.dataMap.listChinadistricts63 this.shi &#x3D; cityName64 let firstName &#x3D; cityName.map(item&#x3D;&gt;&#123;65 let date &#x3D;[]66 date &#x3D; item.cdName67 return date68 &#125;)69 arr &#x3D; firstName70 data.multiArray.splice(1, 1, arr)71 &#x2F;&#x2F; 获取默认第三列区的数据7273 let DCode &#x3D; this.shi[data.multiIndex[1]].cdId74 let Dres1 &#x3D; await request(&#39;&#x2F;country&#x2F;list&#39;,&#123;pid:DCode&#125;,&#39;POST&#39;)75 let Darr1 &#x3D; []76 let area&#x3D; Dres1.dataMap.listChinadistricts77 this.qu &#x3D; area78 let twoName &#x3D; area.map(item&#x3D;&gt;&#123;79 let date &#x3D;[]80 date &#x3D; item.cdName81 return date8283 &#125;)84 Darr1 &#x3D; twoName85 data.multiArray.splice(2, 1, Darr1)86 break87 case 1:88 &#x2F;&#x2F;通过第二列滑动，获取第三列区的数据89 let qCode &#x3D; this.shi[e.mp.detail.value].cdId90 91 let res1 &#x3D; await request(&#39;&#x2F;country&#x2F;list&#39;,&#123;pid:qCode&#125;,&#39;POST&#39;)92 let arr1 &#x3D; []93 let areas&#x3D; res1.dataMap.listChinadistricts94 this.qu &#x3D; areas95 let threeName &#x3D; areas.map(item&#x3D;&gt;&#123;96 let date &#x3D;[]97 date &#x3D; item.cdName98 return date99 &#125;)100 arr1 &#x3D; threeName101102 data.multiArray.splice(2, 1, arr1)103 break104 &#125;105 &#125;,106 &#x2F;&#x2F; 获取省的数据107 async getCityData () &#123;108 let arr &#x3D; await request(&#39;&#x2F;country&#x2F;list&#39;,&#123;pid:0&#125;,&#39;POST&#39;)109 110 const cityName &#x3D; arr.dataMap.listChinadistricts111 112 this.sheng &#x3D; cityName113 let firstName &#x3D; cityName.map(item&#x3D;&gt;&#123;114 let data &#x3D;[]115 data &#x3D; item.cdName116 return data117 &#125;)118 119 this.multiArray3[0] &#x3D; firstName120 121 &#125;,122 initData () &#123;123 this.multiArray3.splice(1, 1, [])124 this.multiArray3.splice(2, 1, [])125 this.multiIndex3 &#x3D; [0, 0, 0]126 this.address &#x3D; &#39;&#39;127 this.sheng &#x3D; &#39;&#39;128 this.shi &#x3D; &#39;&#39;129 this.qu &#x3D; &#39;&#39;130 this.getCityData()131 &#125;132133 &#125;,134 async onReady () &#123;135 this.getCityData()136 &#125;,137 mounted() &#123;138 this.initData()139 &#125;140&#125; 141142&lt;&#x2F;script&gt;143&lt;style lang&#x3D;&#39;stylus&#39; rel&#x3D;&#39;stylesheet&#x2F;stylus&#39;&gt;144.provinces145 position absolute146 right 10rpx147 top 10rpx148 width 455rpx149 text-align right150 151&lt;&#x2F;style&gt;","categories":[],"tags":[]},{"title":"省市区三级联动+vant","slug":"省市区三级联动+vant","date":"2019-12-05T07:41:36.856Z","updated":"2019-12-05T07:54:13.666Z","comments":true,"path":"2019/12/05/省市区三级联动+vant/","link":"","permalink":"http://yoursite.com/2019/12/05/%E7%9C%81%E5%B8%82%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8+vant/","excerpt":"","text":"省市区三级联动，是根据id进行查询，通过省id查询市，通过市id查询区县 1、hml代码 1&lt;van-cell2 is-link 3 :title&#x3D;&quot;title&quot;4 :value&#x3D;&quot;checkCity ? checkCity : selectCheck?selectCheck: &#39;请选择省市区&#39;&quot;5 @click&#x3D;&quot;cityVisable &#x3D; true&quot;6&#x2F;&gt;7&lt;van-popup v-model&#x3D;&quot;cityVisable&quot; position&#x3D;&quot;bottom&quot;&gt;8 &lt;van-picker9 show-toolbar10 value-key&#x3D;&quot;cdName&quot;11 :columns&#x3D;&quot;areaList&quot;12 @cancel&#x3D;&quot;cityVisable &#x3D; false&quot;13 @confirm&#x3D;&quot;onAreaConfirm&quot;14 @change&#x3D;&quot;onAreaChange&quot;15 &#x2F;&gt;16&lt;&#x2F;van-popup&gt; 2、script代码 1&lt;script&gt;2import &#123; getId , getStatus ,getNum&#125; from &#39;@&#x2F;utils&#x2F;tools.js&#39;3import &#123;onCountryList,onQueryAccount&#125; from &#39;@&#x2F;api&#39;4export default &#123;5 props:[&#39;title&#39;,&#39;num&#39;,&#39;selectCheck&#39;],6 data() &#123;7 return &#123;8 areaList:[&#123;values:[]&#125;,&#123;values:[]&#125;,&#123;values:[]&#125;],9 cityVisable:false,10 checkCity:&#39;&#39;, &#x2F;&#x2F;picker拿到的值11 provinceName:&#39;&#39;,12 cityName:&#39;&#39;,13 areaName:&#39;&#39;,14 user:&#123;15 provinceId:&#39;&#39;,16 cityId:&#39;&#39;,17 districtId:&#39;&#39;18 &#125;,19 checked:&#39;&#39;20 &#125;21 &#125;,22 methods: &#123;23 getArea(ParentId,index)&#123;24 let param &#x3D; &#123;pid:ParentId&#125;25 onCountryList(param).then(res&#x3D;&gt;&#123;26 if(res.code &#x3D;&#x3D; 0)&#123;27 const regionList &#x3D; res.dataMap.listChinadistricts28 this.areaList[index].values &#x3D;[29 &#123;cdName:&#39;请选择&#39;&#125;,30 ...regionList31 ]32 if(index &lt; 2)&#123;33 this.areaList[index +1].values &#x3D; []34 &#125;35 this.areaList &#x3D; [...this.areaList]36 &#125;else&#123;37 this.$toast(res.message)38 &#125;39 &#125;)40 &#125;,41 42 &#x2F;&#x2F;当地区发生变化时43 onAreaChange(picker, values ,index) &#123;44 if(index &lt; 2)&#123;45 this.getArea(values[index].cdId,index+1)46 &#125;47 &#125;,48 &#x2F;&#x2F;点击确定时49 onAreaConfirm(value) &#123;50 this.checkCity &#x3D; value[0].cdName+&#39;-&#39;+value[1].cdName+&#39;-&#39;+value[2].cdName51 const gather&#x3D;&#123;52 provincesIndex :value[0].cdId,53 cityIndex : value[1].cdId,54 areaIndex : value[2].cdId,55 &#125;56 console.log(value[0].cdId+&quot;++2018&quot;);57 &#x2F;&#x2F;回传的值58 const passName&#x3D;&#123;59 provincesName :value[0].cdName,60 cityName : value[1].cdName,61 areaName : value[2].cdName,62 &#125;63 this.$emit(&#39;pass-data&#39;,gather)64 this.$emit(&#39;pass-name&#39;,passName)65 this.$emit(&#39;fx-name&#39;,passName)66 this.cityVisable &#x3D; false67 &#125;,68 &#125;,69 mounted()&#123;70 this.getArea(0,0) &#x2F;&#x2F;渲染时请求第一层升级数据71 &#125;72&#125;73&lt;&#x2F;script&gt;","categories":[],"tags":[]},{"title":"日期组件+vant","slug":"日期组件+vant","date":"2019-12-05T07:33:19.109Z","updated":"2019-12-05T07:41:09.403Z","comments":true,"path":"2019/12/05/日期组件+vant/","link":"","permalink":"http://yoursite.com/2019/12/05/%E6%97%A5%E6%9C%9F%E7%BB%84%E4%BB%B6+vant/","excerpt":"","text":"该组件分为选择时间并展示和获取后台数据并展示 1、html代码（timeValue3，timeValue3由外部传入通过日期组件进行展示） 1&lt;ValidationProvider rules&#x3D;&quot;required&quot; name&#x3D;&quot;startDate&quot; v-slot&#x3D;&quot;&#123;errors&#125;&quot;&gt;2 &lt;van-field :placeholder&#x3D;&quot;timeValue?timeValue:timeValue3 ? timeValue3 :&#39;开始日期&#39;&quot; @click&#x3D;&quot;showPopFn()&quot; readonly &#x2F;&gt;3 &lt;&#x2F;ValidationProvider&gt;4 5 &lt;ValidationProvider rules&#x3D;&quot;required&quot; name&#x3D;&quot;endDate&quot; v-slot&#x3D;&quot;&#123;errors&#125;&quot;&gt;6 &lt;van-field :placeholder&#x3D;&quot;timeValue2?timeValue2:timeValue4 ? timeValue4:&#39;截止日期&#39;&quot; @click&#x3D;&quot;showPopFn2()&quot; readonly &#x2F;&gt;7 &lt;&#x2F;ValidationProvider&gt;8&lt;van-popup v-model&#x3D;&quot;show&quot; position&#x3D;&quot;bottom&quot; &gt;9 &lt;van-datetime-picker v-model&#x3D;&quot;currentDate&quot; type&#x3D;&quot;date&quot; :min-date&#x3D;&quot;minDate&quot; :max-date&#x3D;&quot;maxDate&quot; @confirm&#x3D;&quot;confirmFn()&quot; @cancel&#x3D;&quot;cancelFn()&quot; &#x2F;&gt;10 &lt;&#x2F;van-popup&gt;11 &lt;van-popup v-model&#x3D;&quot;show2&quot; position&#x3D;&quot;bottom&quot; &gt;12 &lt;van-datetime-picker v-model&#x3D;&quot;currentDate&quot; type&#x3D;&quot;date&quot; :min-date&#x3D;&quot;minDate&quot; :max-date&#x3D;&quot;maxDate&quot; @confirm&#x3D;&quot;confirmFn2()&quot; @cancel&#x3D;&quot;cancelFn2()&quot; &#x2F;&gt;13 &lt;&#x2F;van-popup&gt; 2、script代码 1&lt;script&gt;2import &#123; getId ,getStatus ,getNum&#125; from &#39;@&#x2F;utils&#x2F;tools.js&#39;3import &#123; onQueryAccount &#125; from &#39;@&#x2F;api&#39; 4export default &#123;5 props:[&#39;title&#39;,&#39;timeValue3&#39;,&#39;timeValue4&#39;],6 data() &#123;7 return &#123;8 msg: &#39;&#39;,9 minDate:new Date(1900,1,1), &#x2F;&#x2F;可选最小日期10 maxDate:new Date(2100,1,1),11 currentDate: new Date(),12 show: false, &#x2F;&#x2F; 用来显示弹出层13 timeValue: &#39;&#39;,14 timeValue2: &#39;&#39;,15 show2: false, &#x2F;&#x2F; 用来显示弹出层16 &#125;17 &#125;,18 methods: &#123;19 showPopFn() &#123;20 this.show &#x3D; true;21 &#125;,22 showPopFn2() &#123;23 this.show2 &#x3D; true;24 &#125;,25 confirmFn() &#123; &#x2F;&#x2F; 确定按钮26 this.timeValue &#x3D; this.timeFormat(this.currentDate);27 this.show &#x3D; false;28 if(this.timeValue2)&#123;29 this.checkout()30 &#125;31 &#125;,32 confirmFn2() &#123; &#x2F;&#x2F; 确定按钮33 this.timeValue2 &#x3D; this.timeFormat(this.currentDate);34 this.show2 &#x3D; false;35 if(this.timeValue)&#123;36 this.checkout()37 &#125;38 &#125;,39 cancelFn()&#123;40 this.show &#x3D; true;41 &#125;,42 cancelFn2()&#123;43 this.show2 &#x3D; true;44 &#125;,45 timeFormat(time) &#123; &#x2F;&#x2F; 时间格式化 2019-09-0846 let year &#x3D; time.getFullYear();47 let month &#x3D; time.getMonth() + 1;48 let day &#x3D; time.getDate(); 49 return year +&#39;-&#39;+ (month &lt; 10 ? &#39;0&#39;+month : month)+ &#39;-&#39;+(day &lt; 10 ? &#39;0&#39;+day : day)50 &#125;,51 checkout()&#123;52 const value &#x3D; this.timeValue.split(&quot;-&quot;);53 const value2 &#x3D; this.timeValue2.split(&quot;-&quot;);54 let number1 &#x3D; value[0] + value[1] + value[2];55 let number2 &#x3D; value2[0] + value2[1] + value2[2];56 if (number1 &gt; number2) &#123;57 this.$toast(&#39;开始日期必须小于截止日期&#39;)58 this.number1 &#x3D;&#39;&#39;59 &#125;60 const licenseValidDate &#x3D; number1+&#39;-&#39;+number261 this.$emit(&#39;businessValidity&#39;,licenseValidDate)62 63 &#125;,64 &#125;,65 mounted() &#123;66 this.timeFormat(new Date());67 &#125;68 &#125;69&lt;&#x2F;script&gt; css代码 1.con2 padding 03 margin 04 .title5 color #9996 margin-left .4375rem7 font-size .2rem8 background-color #fff9 .head10 width 100%11 background-color #fff12 display flex13 justify-content center","categories":[],"tags":[]},{"title":"移动端适配","slug":"移动端适配","date":"2019-12-05T07:15:16.000Z","updated":"2019-12-05T07:54:18.078Z","comments":true,"path":"2019/12/05/移动端适配/","link":"","permalink":"http://yoursite.com/2019/12/05/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/","excerpt":"","text":"使用的是阿里的适配工具lib-flexible进行移动端适配 1、下载 lib-flexible.js 文件 2、在html通过script标签引入 3、在vscode中安装依赖 rootrem(px自动转换成rem) 4、解决移动端0.3秒延迟问题 1&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;as.alipayobjects.com&#x2F;g&#x2F;component&#x2F;fastclick&#x2F;1.0.6&#x2F;fastclick.js&quot;&gt;&lt;&#x2F;script&gt;2 &lt;script&gt;3 if (&#39;addEventListener&#39; in document) &#123;4 document.addEventListener(&#39;DOMContentLoaded&#39;, function() &#123;5 FastClick.attach(document.body);6 &#125;, false);7 &#125;8 if(!window.Promise) &#123;9 document.writeln(&#39;&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;as.alipayobjects.com&#x2F;g&#x2F;component&#x2F;es6-promise&#x2F;3.2.2&#x2F;es6-promise.min.js&quot;&#39;+&#39;&gt;&#39;+&#39;&lt;&#39;+&#39;&#x2F;&#39;+&#39;script&gt;&#39;);10 &#125;11 &lt;&#x2F;script&gt;","categories":[],"tags":[]},{"title":"1","slug":"1","date":"2019-11-28T09:51:13.000Z","updated":"2019-11-28T09:52:10.871Z","comments":true,"path":"2019/11/28/1/","link":"","permalink":"http://yoursite.com/2019/11/28/1/","excerpt":"","text":"##xhy的第一篇文章","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2019-11-28T09:31:36.638Z","updated":"2019-11-28T09:31:36.638Z","comments":true,"path":"2019/11/28/hello-world/","link":"","permalink":"http://yoursite.com/2019/11/28/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}